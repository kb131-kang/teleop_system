# π“„ RB-Y1 ν…”λ μ¤νΌλ μ΄μ… μ‹μ¤ν… β€” μ”κµ¬μ‚¬ν•­ μ •μμ„ (PRD)

## ν”„λ΅μ νΈ κ°μ”

RB-Y1 ν΄λ¨Έλ…Έμ΄λ“ λ΅λ΄‡μ„ VR κΈ°λ° λ§μ¤ν„° μ‹μ¤ν…(Vive Tracker + Manus Glove + VR Headset)μΌλ΅ μ›κ²© μ΅°μ‘ν•κ³ , μ‹¤μ  ν•λ“μ›¨μ–΄ μ—†μ΄λ„ μ‹λ®¬λ μ΄ν„°(Isaac Lab / MuJoCo)μ—μ„ μ „μ²΄ μ‹μ¤ν…μ„ κ²€μ¦ν•  μ μλ” λ¨λ“ν• ν…”λ μ¤νΌλ μ΄μ… ν”„λ μ„μ›ν¬.

## ν•µμ‹¬ νƒ€κ² (νλ¥΄μ†λ‚)

- **μ£Ό μ‚¬μ©μ**: ν…”λ μ¤νΌλ μ΄μ… μ‹μ¤ν… κ°λ°μ/μ—°κµ¬μ
- **κΈ°μ  μμ¤€**: ROS2 κΈ°λ³Έ μ§€μ‹ λ³΄μ , λ΅λ΄‡ μ μ–΄ μ•κ³ λ¦¬μ¦μ— λ€ν• κΉμ€ μ§€μ‹μ€ λ¶ν•„μ”
- **μ‚¬μ© ν™κ²½**: μ—°κµ¬μ‹¤ ν™κ²½, μ‹λ®¬λ μ΄μ… μ°μ„  κ°λ° β†’ μ‹¤ λ΅λ΄‡ μ „ν™
- **ν•µμ‹¬ λ‹μ¦**: HW μ—†μ΄ μ‹λ®¬λ μ΄μ…μΌλ΅ μ½”λ“ κ²€μ¦, λ¨λ“ κµμ²΄ μ©μ΄μ„±

---

## μ‹μ¤ν… κµ¬μ„±

### μ¬λ μ΄λΈ μ‹μ¤ν… (λ΅λ΄‡ μΈ΅)
| κµ¬μ„±μ”μ† | μ‚¬μ–‘ |
|---------|------|
| λ΅λ΄‡ λ³Έμ²΄ | Rainbow Robotics RB-Y1 (μ–‘ν” 7DoF Γ— 2 + ν† λ¥΄μ† 6DoF + AMR λ¨λ°”μΌ λ² μ΄μ¤) |
| ν•Έλ“ | TESOLLO DG-5F (20DoF 5ν•‘κ±° ν•Έλ“, μΆ/μ°) |
| μΉ΄λ©”λΌ | λ¨Έλ¦¬λ¶€ RGB-D μΉ΄λ©”λΌ (2μ¶• Pan-Tilt μ΅°μΈνΈ νƒ‘μ¬) |

### λ§μ¤ν„° μ‹μ¤ν… (μ¤νΌλ μ΄ν„° μΈ΅)
| κµ¬μ„±μ”μ† | μ©λ„ |
|---------|------|
| Vive Tracker Γ— 5 | μ¤λ¥Έμ† β†’ μ°μΈ΅ ν”, μ™Όμ† β†’ μΆμΈ΅ ν”, ν—λ¦¬ β†’ ν† λ¥΄μ†, μ–‘λ° β†’ AMR μ΄λ™λ¶€ |
| VR Headset | λ¨Έλ¦¬ RGB-D μΉ΄λ©”λΌμ ν¬μΈνΈ ν΄λΌμ°λ“ μ‹κ°ν™” + μΉ΄λ©”λΌ μ¤λ¦¬μ—”ν…μ΄μ… μ μ–΄ |
| Manus Glove Γ— 2 | DG-5F ν•Έλ“ μ΅°μ‘ (μΆ/μ°) |

---

## μ£Όμ” κΈ°λ¥ (MVP Scope)

> **[2025-01-31 Updated]** κ° κΈ°λ¥μ κµ¬ν„ μƒνƒλ¥Ό λ°μ

### F1. μ–‘ν” ν…”λ μ¤νΌλ μ΄μ… (Arm Teleop) β€” β… κµ¬ν„ μ™„λ£
- Vive Tracker 3κ°(μ–‘μ† + ν—λ¦¬)μ 6DoF ν¬μ¦ λ°μ΄ν„°λ¥Ό μμ‹ 
- RB-Y1 μƒμ²΄λ¥Ό **3κ°μ λ…λ¦½ λ§¤λ‹ν“°λ μ΄ν„°**(μΆμΈ΅ ν”, μ°μΈ΅ ν”, ν† λ¥΄μ†)λ΅ λ¨λΈλ§
- κ° λ§¤λ‹ν“°λ μ΄ν„°μ— λ€ν•΄ **IK(Inverse Kinematics)**λ¥Ό ν’€μ–΄ μ΅°μΈνΈ λ…λ Ή μƒμ„±
- IK μ†”λ²„: Pink (Pinocchio κΈ°λ° differential IK) + SimpleProportionalMapper (ν΄λ°±)
- μ‹¤μ‹κ°„ μ μ–΄ λ£¨ν”„ (β‰¥100Hz λ©ν‘)
- **κµ¬ν„ μƒμ„Έ**: `ArmController` (μμ λ΅μ§) + `ArmTeleopNode` (ROS2) + `ros2_adapters.py` ν¨ν„΄
- **κ²€μ¦**: Standalone 300/300 IK μ„±κ³µ, ROS2 νμ΄ν”„λΌμΈ 94 poses β†’ 58 cmds β†’ 42 states/5s

### F2. μ΄λ™λ¶€(AMR) ν…”λ μ¤νΌλ μ΄μ… (Locomotion Teleop) β€” β… κµ¬ν„ μ™„λ£
- μ–‘λ° Vive Trackerμ μƒλ€ μ„μΉ/λ°©ν–¥ λ³€ν™”λ¥Ό κ°μ§€
- μ „μ§„/ν›„μ§„/νμ „ λ“± λ³΄ν–‰ ν¨ν„΄ β†’ AMR μ†λ„ λ…λ Ή(cmd_vel)μΌλ΅ λ³€ν™
- κ±Έμ κ°μ§€ μ•κ³ λ¦¬μ¦: λ° μ„μΉ λ³€ν™”λ‰ κΈ°λ° μ†λ„ λ§¤ν•‘
- **κµ¬ν„ μƒμ„Έ**: `GaitDetector` + `LocomotionController` + `LocomotionNode`
- **κ²€μ¦**: Standalone 87.6% λΉ„μ λ΅ μ†λ„, ROS2 296 poses β†’ 112 cmd_vel/6s

### F3. ν•Έλ“ ν…”λ μ¤νΌλ μ΄μ… (Hand Teleop) β€” β… κµ¬ν„ μ™„λ£
- Manus Gloveμ κ΄€μ  λ°μ΄ν„°(Ergonomics) μμ‹ 
- Manus μ†κ°€λ½ κ΄€μ  β†’ DG-5F 20DoF κ΄€μ λ΅ λ¦¬νƒ€κ²ν…(λ§¤ν•‘)
- MANUS SDK ROS2 ν¨ν‚¤μ§€ ν™μ©
- **κµ¬ν„ μƒμ„Έ**: `HandRetargeting` (20DoF λ§¤ν•‘) + `HandController` + `HandTeleopNode`
- **κµ¬ν„ μ°Έκ³ **: MuJoCo μ‹λ®¬λ μ΄μ…μ—μ„λ” 20DoFλ¥Ό λ‹¨μΌ κ·Έλ¦¬νΌ ctrl κ°’μΌλ΅ μ§‘μ•½ (mean + 20x μ¤μΌ€μΌλ§)
- **κ²€μ¦**: Standalone 500/500 λ…λ Ή, ROS2 143 hand cmds/6s

### F4. VR ν¬μΈνΈ ν΄λΌμ°λ“ μ¤νΈλ¦¬λ° (VR Streaming) β€” β… κµ¬ν„ μ™„λ£
- μ¬λ μ΄λΈ λ¨Έλ¦¬μ RGB-D μΉ΄λ©”λΌ β†’ ν¬μΈνΈ ν΄λΌμ°λ“ μƒμ„±
- **VR ν—¤λ“μ…‹ μ¤λ¦¬μ—”ν…μ΄μ… μ¦‰κ° λ°μ** (λ΅μ»¬ νμ „) + RGB-D λ°μ΄ν„° λΉ„λ™κΈ° μ—…λ°μ΄νΈ
  - VR λ©€λ―Έ λ°©μ§€: ν¬μΈνΈ ν΄λΌμ°λ“ λ΅μ»¬ λ λ”λ§μΌλ΅ HMD νμ „ μ‹ μ¦‰κ°μ  μ‹μ  λ³€κ²½
  - RGB-D λ°μ΄ν„° λ„μ°© μ‹ ν¬μΈνΈ ν΄λΌμ°λ“ κ°±μ‹  (λ³‘λ ¬ μ²λ¦¬)
- μΉ΄λ©”λΌ Pan-Tilt μ΅°μΈνΈλ¥Ό VR ν—¤λ“μ…‹ μ¤λ¦¬μ—”ν…μ΄μ…μ— μ—°λ™
- **κµ¬ν„ μƒμ„Έ**: `SimCameraStream` (double buffering) + `CameraController` (EMA μ¤λ¬΄λ”©) + `PointCloudGenerator` + `PointCloudViewer` (GLFW+OpenGL)
- **κ²€μ¦**: 37.1Hz νμ΄ν”„λΌμΈ throughput, 130K+ ν¬μΈνΈ/ν”„λ μ„, pan/tilt μ •μƒ μ¶”μΆ…

### F5. μ‹λ®¬λ μ΄μ… ν™κ²½ (Simulation) β€” β… MuJoCo μ™„λ£ / β³ Isaac Lab λ―Έμ°©μ
- μ‹¤μ  HW μ—†μ΄ μ „μ²΄ νμ΄ν”„λΌμΈ ν…μ¤νΈ κ°€λ¥
- **μ‹λ®¬λ μ΄ν„° λ°±μ—”λ“**: MuJoCo β… (ν„μ¬ μ£Όλ ¥) / Isaac Lab β³ (λ―Έμ°©μ)
- **λ”λ―Έ λ§μ¤ν„° μ…λ ¥**: `SimulatedTracker` (ν•©μ„± sin/cos λ¨μ…), `SimulatedHand` (ν•©μ„± κ΄€μ ), λ”λ―Έ ROS2 νΌλΈ”λ¦¬μ…” 3μΆ…
- μ‹λ®¬λ μ΄ν„° β†” μ‹¤μ  HW κ°„ **λ™μΌν• μΈν„°νμ΄μ¤**λ΅ λ¬΄κ²°ν™ μ „ν™ β…
- **μ°Έκ³ **: μ‹¤μ‚¬μ© μ¤‘ MuJoCoκ°€ Primaryλ΅ μ „ν™λ¨ (κ°€λ³κ³  μ„¤μΉ κ°„νΈ). Isaac Labμ€ ν›„μ† ν†µν•© μμ •.

### F6. GUI μ μ–΄ ν¨λ„ (Control Panel) β€” β… κΈ°λ³Έ κµ¬ν„ μ™„λ£
- μ‹μ¤ν… μƒνƒ λ¨λ‹ν„°λ§ (κ° λ¨λ“ μ—°κ²° μƒνƒ, μ§€μ—°μ‹κ°„)
- λ¨λ“λ³„ ν™μ„±ν™”/λΉ„ν™μ„±ν™” ν† κΈ€
- μ‹λ®¬λ μ΄μ… β†” μ‹¤ λ΅λ΄‡ λ¨λ“ μ „ν™
- μ£Όμ” νλΌλ―Έν„° μ‹¤μ‹κ°„ μ΅°μ • (IK κ²μΈ, μ†λ„ μ¤μΌ€μΌ λ“±)
- **κµ¬ν„**: Dear PyGui κΈ°λ° (SDK λ―Έμ„¤μΉ μ‹ graceful fallback)

---

## μ¶”ν›„ κ³ λ„ν™” (Post-MVP)
- ν–…ν‹± ν”Όλ“λ°± (Manus Glove μ§„λ™ ν”Όλ“λ°±)
- 3D Gaussian Splatting κΈ°λ° κ³ ν’μ§ VR λ λ”λ§
- μ¶©λ κ°μ§€ λ° μ•μ „ μ ν• (Force Feedback)
- λ‹¤μ¤‘ μ¤νΌλ μ΄ν„° μ§€μ›
- λ°μ΄ν„° λ΅κΉ… λ° μ΄λ―Έν…μ΄μ… λ¬λ‹ λ°μ΄ν„° μμ§‘
- λ„¤νΈμ›ν¬ μ§€μ—° λ³΄μƒ (μμΈ΅ κΈ°λ°)

---

## μ‚¬μ©μ νλ¦„ (User Flow)

```
1. [μ‹μ‘] μ‹μ¤ν… κµ¬λ™ & λ¨λ“ μ„ νƒ
   β””β”€ GUIμ—μ„ μ‹λ®¬λ μ΄μ…/μ‹¤λ΅λ΄‡ λ¨λ“ μ„ νƒ
   β””β”€ ν•„μ”ν• λ¨λ“ ν™μ„±ν™” (ν”, μ΄λ™λ¶€, ν•Έλ“, μΉ΄λ©”λΌ)

2. [μ΅°μ‘] ν…”λ μ¤νΌλ μ΄μ… μν–‰
   β””β”€ VR ν—¤λ“μ…‹ μ°©μ© β†’ ν¬μΈνΈ ν΄λΌμ°λ“λ΅ λ΅λ΄‡ μ‹μ  ν™•μΈ
   β””β”€ Vive Trackerλ΅ ν”/ν† λ¥΄μ†/μ΄λ™λ¶€ μ΅°μ‘
   β””β”€ Manus Gloveλ΅ ν•Έλ“ μ΅°μ‘
   β””β”€ GUIμ—μ„ μ‹¤μ‹κ°„ μƒνƒ λ¨λ‹ν„°λ§

3. [μΆ…λ£] μ„Έμ… μ™„λ£
   β””β”€ λ¨λ“ μμ°¨ μΆ…λ£
   β””β”€ (μ„ νƒ) μ„Έμ… λ°μ΄ν„° μ €μ¥
```

---

## λΉ„κΈ°λ¥ μ”κµ¬μ‚¬ν•­

| ν•­λ© | μ”κµ¬μ‚¬ν•­ | κµ¬ν„ μƒνƒ |
|------|---------|-----------|
| μ μ–΄ μ£ΌκΈ° | ν”/ν† λ¥΄μ† IK: β‰¥100Hz, ν•Έλ“: β‰¥100Hz, AMR: β‰¥50Hz | β… ROS2 λ…Έλ“ νƒ€μ΄λ¨Έ μ„¤μ • μ™„λ£ |
| VR μ¤νΈλ¦¬λ° | ν¬μΈνΈ ν΄λΌμ°λ“ μ—…λ°μ΄νΈ: β‰¥15fps, HMD νμ „ λ°μ: β‰¥60fps | β… 37.1Hz throughput λ‹¬μ„± (λ©ν‘ 15Hz μ΄κ³Ό) |
| λ¨λ“ λ…λ¦½μ„± | κ° λ¨λ“(ν”, μ΄λ™, ν•Έλ“, μΉ΄λ©”λΌ) λ…λ¦½ μ‹¤ν–‰ κ°€λ¥ | β… Standalone μ¤ν¬λ¦½νΈ + `--modules` μ„ νƒμ  μ‹¤ν–‰ |
| ν™•μ¥μ„± | λ§μ¤ν„°/μ¬λ μ΄λΈ μ¥λΉ„ κµμ²΄ μ‹ μΈν„°νμ΄μ¤λ§ κµ¬ν„ν•λ©΄ μ—°λ™ κ°€λ¥ | β… ABC ν¨ν„΄, SDK graceful fallback |
| ν…μ¤νΈ | μ‹λ®¬λ μ΄ν„°μ—μ„ ν†µν•© ν…μ¤νΈ κ°€λ¥, λ‹¨μ„ λ¨λ“ λ…λ¦½ ν…μ¤νΈ κ°€λ¥ | β… 160κ° pytest, 6κ° standalone μ¤ν¬λ¦½νΈ |
