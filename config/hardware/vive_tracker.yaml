# HTC Vive Tracker configuration

vive_tracker:
  # SteamVR must be running
  steamvr:
    require_hmd: false  # Set false to use trackers without HMD

  # Base station (Lighthouse) setup
  # SteamVR manages base stations transparently — tracker poses are returned
  # in the "standing universe" coordinate frame, independent of station count.
  # Re-run SteamVR Room Setup if you add/remove/move base stations.
  base_stations:
    # Supported configurations:
    #   2 stations — ~180° coverage (facing setup)
    #   4 stations — ~360° coverage (room-scale, recommended)
    #   More stations supported but diminishing returns
    # No config changes needed when adding/removing stations;
    # SteamVR calibrates automatically during Room Setup.
    min_expected: 2  # Log warning if fewer connected

  # Tracker serial-to-role mapping
  # Update these with actual tracker serial numbers
  tracker_mapping:
    right_hand: "LHR-XXXXXXXX"
    left_hand: "LHR-YYYYYYYY"
    waist: "LHR-ZZZZZZZZ"
    right_foot: "LHR-AAAAAAAA"
    left_foot: "LHR-BBBBBBBB"

  # Auto-detect mode: assign trackers by initial position
  auto_detect:
    enabled: true
    # Height thresholds for classification (meters from floor)
    head_min_height: 1.4
    hand_min_height: 0.6
    hand_max_height: 1.5
    waist_min_height: 0.7
    waist_max_height: 1.2
    foot_max_height: 0.3

  rate_hz: 100

  # Coordinate frame: SteamVR uses Y-up, conversion to ROS2 Z-up done in transforms.py
  calibration:
    # Calibration offset from tracker to body reference
    right_hand_offset: [0.0, 0.0, 0.0]
    left_hand_offset: [0.0, 0.0, 0.0]
    waist_offset: [0.0, 0.0, 0.0]
